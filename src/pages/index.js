import React, { useLayoutEffect, useState } from "react"
import { graphql } from "gatsby"
import Img from "gatsby-image"
import Layout from "../components/layout.js"

export default ({ data: { desktop, mobile } }) => {
  if(typeof window === 'undefined') { global.window = {} }
  const [width, setWidth] = useState(window.innerWidth)
  useLayoutEffect(() => {
    window.addEventListener('resize', () => setWidth(window.innerWidth))
    return () => window.removeEventListener('resize')
  }, [])

  return (
    <Layout>
      <div className="gradient"/>
      <Img
        className="background-img"
        fluid={width > 500 ? desktop.childImageSharp.fluid : mobile.childImageSharp.fluid }
        alt="maderra"
      />
      <div className="content">
        <svg xmlns="http://www.w3.org/2000/svg" width="230" height="180" viewBox="0 0 239.24 178.9"><g transform="translate(1 1)"><path d="M150-1619.55v88.45H387.24V-1708H150Zm235.778.067v86.921H151.462v-173.843H385.778Z" transform="translate(-150 1708)" fill="#fff" stroke="#fff" strokeWidth="2"/><path d="M395.382-1592.805a46.575,46.575,0,0,0-22.993,7.749c-9.37,6.246-15.191,13.424-18.966,23.352-.505,1.329-1.382,4.094-2.525,7.908-.173.585-.465,1.781-.665,2.658s-.452,2.1-.585,2.725a63.573,63.573,0,0,0-.585,18.089c1.223,11.018,4.984,20.069,11.616,27.831a50.923,50.923,0,0,0,11.855,10.114l1.382.837.066-25.146c.08-27.3.04-25.691.784-28.868a58.981,58.981,0,0,1,2.206-6.313c3.442-8.055,10.553-13.2,19.67-14.221a34.991,34.991,0,0,1,6.579.066,25.4,25.4,0,0,1,14.447,7.456,30.44,30.44,0,0,1,5.5,8l.5,1.156,17.185.04,17.185.026.638-1.369a26.711,26.711,0,0,1,18.647-15.125,31.137,31.137,0,0,1,8.134-.2,23.541,23.541,0,0,1,14.739,7.164,25.215,25.215,0,0,1,5.423,9.117,27.871,27.871,0,0,1,2.06,8.878c.066.957.133,12.015.133,25.518v23.816l.837-.478a51.534,51.534,0,0,0,14.992-13.73c5.423-7.469,8.453-16.321,9.29-27.1a81.3,81.3,0,0,0-.067-10.194,51.627,51.627,0,0,0-1-6.5,2.511,2.511,0,0,1-.186-.757A84.45,84.45,0,0,0,527.2-1564.5c-3.575-8.107-8.493-13.916-16.72-19.8a45.589,45.589,0,0,0-18.807-7.828,57.807,57.807,0,0,0-16.879-.332,43.228,43.228,0,0,0-16.613,5.994c-.8.5-2.432,1.475-3.615,2.153-1.342.784-4.333,2.8-7.895,5.356-3.163,2.246-5.768,4.093-5.781,4.093s-2.445-1.714-5.4-3.827a107.129,107.129,0,0,0-10.407-6.9,45.422,45.422,0,0,0-10.766-5.157,42.267,42.267,0,0,0-7.921-1.794A77.851,77.851,0,0,0,395.382-1592.805Z" transform="translate(-322.283 1608.223)" fill="#fff"/><path d="M917.353-1228.242c.146.425,3.575,11.417,7.642,24.428,8.812,28.216,8.706,27.884,8.772,27.818s16.348-52.1,16.494-52.685l.08-.319H917.1Z" transform="translate(-815.147 1292.663)" fill="#fff"/><path d="M741-711.779v14.221h7.151c6.446,0,7.257-.027,8.333-.253a13.528,13.528,0,0,0,7.19-3.934,13.184,13.184,0,0,0,3.921-7.031,19.026,19.026,0,0,0,.053-5.888,13.509,13.509,0,0,0-10.287-10.805c-1.648-.412-3.8-.532-10.34-.532H741Zm15.218-9.583a9.04,9.04,0,0,1,4,2.459,9.386,9.386,0,0,1,2.6,4.412,12.255,12.255,0,0,1,0,5.556,9.385,9.385,0,0,1-2.6,4.413,9.04,9.04,0,0,1-4,2.459c-.89.292-1.143.306-5.742.359l-4.825.04v-20.1l4.825.04C755.075-721.667,755.328-721.654,756.218-721.361Z" transform="translate(-662.452 856.515)" fill="#fff"/><path d="M978-711.779v14.221h24.987v-4.12H982.652v-7.974h19.936v-4.253H982.652v-7.842h20.335V-726H978Z" transform="translate(-867.953 856.515)" fill="#fff"/><path d="M1202-711.879v14.234h4.652v-12.095h10.3l1.847,4.492c1.023,2.459,2.153,5.183,2.512,6.034l.651,1.568h2.446c1.343,0,2.446-.013,2.446-.04s-1.156-2.844-2.578-6.273l-2.565-6.247.758-.386a8.275,8.275,0,0,0,4.187-9.157,7.992,7.992,0,0,0-5.808-6.034c-.731-.186-1.994-.226-9.835-.266L1202-726.1Zm17.53-9.729a3.841,3.841,0,0,1,2.459,2.632,5.045,5.045,0,0,1-.186,2.685,3.3,3.3,0,0,1-1.741,1.887l-.824.412h-12.586v-7.842h6.1C1218.082-721.834,1218.932-721.807,1219.53-721.608Z" transform="translate(-1062.181 856.602)" fill="#fff"/><path d="M1421-711.879v14.234h4.652v-12.095h10.3l1.847,4.492c1.024,2.459,2.153,5.183,2.512,6.034l.651,1.568h2.446c1.342,0,2.446-.013,2.446-.04s-1.156-2.844-2.578-6.273l-2.565-6.247.758-.386a8.275,8.275,0,0,0,4.187-9.157,7.993,7.993,0,0,0-5.808-6.034c-.731-.186-1.994-.226-9.836-.266L1421-726.1Zm17.531-9.729a3.841,3.841,0,0,1,2.459,2.632,5.051,5.051,0,0,1-.186,2.685,3.3,3.3,0,0,1-1.741,1.887l-.824.412h-12.586v-7.842h6.1C1437.082-721.834,1437.932-721.807,1438.531-721.608Z" transform="translate(-1252.075 856.602)" fill="#fff"/><path d="M265-710.845v14.155h4.519l.027-10.327.04-10.314,4.851,4.665c2.671,2.578,4.878,4.678,4.918,4.678s2.246-2.1,4.918-4.678l4.851-4.665.04,10.314.026,10.327h4.519V-725H292.14c-1.528,0-1.582.013-1.9.345-.173.186-2.7,2.685-5.609,5.542l-5.29,5.2-5.542-5.542L268.256-725H265Z" transform="translate(-249.716 855.648)" fill="#fff"/><path d="M511.007-710.938c-3.31,7.722-6.021,14.088-6.008,14.155a14.92,14.92,0,0,0,2.353.066l2.353-.04.784-1.967.784-1.954h15.749l.837,1.994.837,1.994h2.313a11.785,11.785,0,0,0,2.3-.107c.013-.053-2.7-6.419-6.007-14.141L521.281-725h-4.253ZM525.2-704.9c0,.066-2.725.106-6.061.106-5.024,0-6.047-.027-6.008-.186.027-.093,1.382-3.4,3.03-7.35l2.991-7.164,3.017,7.243C523.833-708.267,525.2-704.958,525.2-704.9Z" transform="translate(-457.817 855.648)" fill="#fff"/><path d="M1630.007-710.938c-3.309,7.722-6.02,14.088-6.008,14.155a14.92,14.92,0,0,0,2.353.066l2.353-.04.785-1.967.784-1.954h15.75l.837,1.994.837,1.994h2.313a11.787,11.787,0,0,0,2.3-.107c.013-.053-2.7-6.419-6.007-14.141L1640.281-725h-4.253ZM1644.2-704.9c0,.066-2.724.106-6.06.106-5.024,0-6.048-.027-6.008-.186.026-.093,1.382-3.4,3.031-7.35l2.99-7.164,3.017,7.243C1642.833-708.267,1644.2-704.958,1644.2-704.9Z" transform="translate(-1428.094 855.648)" fill="#fff"/></g></svg>
        <div className="icons">
          <a href="https://www.instagram.com/maderra_music/">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 38.992 41.591"><g transform="translate(0 0)"><g fill="none" stroke="#fff" strokeWidth="2"><rect width="38.992" height="41.591" stroke="none"/><rect x="1" y="1" width="36.992" height="39.591" fill="none"/></g><g transform="translate(7.188 8.811)"><path d="M3.033.012H20.587a3.04,3.04,0,0,1,3.031,3.032V20.6a3.039,3.039,0,0,1-3.031,3.03H3.033A3.04,3.04,0,0,1,0,20.6V3.044A3.041,3.041,0,0,1,3.033.012ZM17.205,2.635A1.067,1.067,0,0,0,16.142,3.7V6.244a1.066,1.066,0,0,0,1.063,1.064h2.669a1.067,1.067,0,0,0,1.063-1.064V3.7a1.067,1.067,0,0,0-1.063-1.065H17.205ZM20.948,10H18.87a6.905,6.905,0,0,1,.3,2.028,7.231,7.231,0,0,1-7.342,7.112A7.231,7.231,0,0,1,4.49,12.027,6.937,6.937,0,0,1,4.794,10H2.625v9.977a.939.939,0,0,0,.938.937H20.01a.939.939,0,0,0,.938-.937ZM11.831,7.173a4.671,4.671,0,0,0-4.742,4.6,4.672,4.672,0,0,0,4.742,4.6,4.672,4.672,0,0,0,4.744-4.6A4.671,4.671,0,0,0,11.831,7.173Z" transform="translate(0 -0.012)" fill="#fff"/></g></g></svg>
          </a>
          <a href="https://www.facebook.com/maderramusic/">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40.291 41.591"><g transform="translate(0 0)"><g fill="none" stroke="#fff" strokeWidth="2"><rect width="40.291" height="41.591" stroke="none"/><rect x="1" y="1" width="38.291" height="39.591" fill="none"/></g></g><g transform="translate(14.227 6.258)"><g transform="translate(0)"><path d="M136.68,9.548V6.076a1.737,1.737,0,0,1,1.736-1.736h1.736V0H136.68a5.208,5.208,0,0,0-5.208,5.208v4.34H128v4.34h3.472V27.776h5.208V13.888h3.472l1.736-4.34Z" transform="translate(-128)" fill="#fff"/></g></g></svg>
          </a>
          <a href="https://open.spotify.com/artist/3jXTSL7yxV8L0c4Kf1L6S8">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 41.591 41.591"><g transform="translate(0 0)"><g fill="none" stroke="#fff" strokeWidth="2"><rect width="41.591" height="41.591" stroke="none"/><rect x="1" y="1" width="39.591" height="39.591" fill="none"/></g><path d="M21.771,3.735A12.753,12.753,0,0,0,3.735,21.771,12.753,12.753,0,0,0,21.771,3.735ZM18.646,18.008a.747.747,0,0,1-.989.373,17.522,17.522,0,0,0-7.266-1.559,17.759,17.759,0,0,0-3.993.453.747.747,0,0,1-.336-1.456,19.264,19.264,0,0,1,4.329-.491,19.008,19.008,0,0,1,7.881,1.692A.747.747,0,0,1,18.646,18.008Zm1.577-3.577a.747.747,0,0,1-.988.375,21.4,21.4,0,0,0-8.844-1.891,21.7,21.7,0,0,0-4.675.508.747.747,0,0,1-.322-1.459,23.2,23.2,0,0,1,5-.543,22.886,22.886,0,0,1,9.457,2.022A.747.747,0,0,1,20.224,14.432Zm1.527-3.465a.747.747,0,0,1-.988.376A25.158,25.158,0,0,0,10.392,9.131a25.543,25.543,0,0,0-5.333.561.747.747,0,1,1-.313-1.461,27.038,27.038,0,0,1,5.645-.595A26.643,26.643,0,0,1,21.375,9.979.747.747,0,0,1,21.751,10.967Zm0,0" transform="translate(7.609 9.107)" fill="#fff"/></g></svg>
          </a>
          <a href="https://soundcloud.com/maderramusic">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 41.591 41.591"><g transform="translate(0 0)"><g transform="translate(0 0)"><g fill="none" stroke="#fff" strokeWidth="2"><rect width="41.591" height="41.591" stroke="none"/><rect x="1" y="1" width="39.591" height="39.591" fill="none"/></g><g transform="translate(7.867 12.983)"><path d="M21.5,11.906a4.391,4.391,0,0,0-.9.094,7.783,7.783,0,0,0-7.733-7A.864.864,0,0,0,12,5.863V19.676a.864.864,0,0,0,.863.863H21.5a4.317,4.317,0,1,0,0-8.633Z" transform="translate(1.813 -5)" fill="#fff"/><path d="M9,7.363V19.45a.863.863,0,1,0,1.727,0V7.363A.863.863,0,1,0,9,7.363Z" transform="translate(1.36 -4.773)" fill="#fff"/><path d="M6,10.363V19a.863.863,0,1,0,1.727,0V10.363a.863.863,0,1,0-1.727,0Z" transform="translate(0.906 -4.32)" fill="#fff"/><path d="M3,19a.863.863,0,1,0,1.727,0V10.363a.863.863,0,1,0-1.727,0Z" transform="translate(0.453 -4.32)" fill="#fff"/><path d="M.863,19.406a.864.864,0,0,0,.863-.863v-5.18a.863.863,0,1,0-1.727,0v5.18A.864.864,0,0,0,.863,19.406Z" transform="translate(0 -3.867)" fill="#fff"/></g></g></g></svg>
          </a>
        </div>
      </div>
    </Layout>
  )
}

export const query = graphql`
  query {
    desktop: file(relativePath: { eq: "desktop-background.jpg" }) {
      childImageSharp {
        fluid(maxWidth: 1920) {
          ...GatsbyImageSharpFluid_withWebp
        }
      }
    },
    mobile: file(relativePath: { eq: "mobile-background.jpg" }) {
      childImageSharp {
        fluid(maxWidth: 500) {
          ...GatsbyImageSharpFluid_withWebp
        }
      }
    }
  }
`
